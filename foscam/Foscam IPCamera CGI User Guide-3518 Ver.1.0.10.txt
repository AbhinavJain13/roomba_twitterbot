Foscam IPCamera CGI User Guide

Foscam IPCamera CGI User Guide

Copyright@ Shenzhen Foscam Intelligent Technology Limited

1

Foscam IPCamera CGI User Guide

Contents
General description.......................................................................................................................... 1
AV Function........................................................................................................................................2
getImageSetting........................................................................................................................2
setBrightness.............................................................................................................................2
setContrast.................................................................................................................................2
setHue........................................................................................................................................ 3
setSaturation............................................................................................................................. 3
setSharpness............................................................................................................................ 3
resetImageSetting.................................................................................................................... 3
getMirrorAndFlipSetting...........................................................................................................4
mirrorVideo................................................................................................................................ 4
flipVideo......................................................................................................................................4
getRatio...................................................................................................................................... 5
setRatio...................................................................................................................................... 5
getH264FrmRefMode.............................................................................................................. 5
setH264FrmRefMode...............................................................................................................6
getScheduleRecordStreamChn............................................................................................. 6
setScheduleRecordStreamChn............................................................................................. 6
setPwrFreq.................................................................................................................................7
getVideoStreamParam............................................................................................................ 7
setVideoStreamParam.............................................................................................................7
getSubVideoStreamParam..................................................................................................... 8
setSubVideoStreamParam..................................................................................................... 8
getMainVideoStreamType.......................................................................................................9
getSubVideoStreamType........................................................................................................ 9
setMainVideoStreamType....................................................................................................... 9
setSubStreamFormat.............................................................................................................10
GetMJStream.......................................................................................................................... 10
getOSDSetting........................................................................................................................ 11
setOSDSetting.........................................................................................................................11
getOsdMaskArea.................................................................................................................... 11
setOsdMaskArea.................................................................................................................... 12
getOSDMask........................................................................................................................... 12
setOSDMask........................................................................................................................... 12
getMotionDetectConfig.......................................................................................................... 13
setMotionDetectConfig.......................................................................................................... 14
setLocalAlarmRecordConfig.................................................................................................15
getLocalAlarmRecordConfig.................................................................................................16
getSnapConfig........................................................................................................................ 16
setSnapConfig.........................................................................................................................16
getScheduleSnapConfig........................................................................................................17
setScheduleSnapConfig........................................................................................................17
snapPicture..............................................................................................................................18
Copyright@ Shenzhen Foscam Intelligent Technology Limited

2

Foscam IPCamera CGI User Guide

snapPicture2............................................................................................................................19
getRecordList.......................................................................................................................... 19
getRecordList2........................................................................................................................ 19
reloadRecordindex................................................................................................................. 20
getAlarmRecordConfig.......................................................................................................... 20
setAlarmRecordConfig...........................................................................................................20
getRecordPath........................................................................................................................ 21
getScheduleRecordConfig.................................................................................................... 21
setScheduleRecordConfig.................................................................................................... 22
setIOAlarmConfig................................................................................................................... 23
getIOAlarmConfig................................................................................................................... 23
clearIOAlarmOutput............................................................................................................... 24
setPCAudioAlarmCfg............................................................................................................. 24
getPCAudioAlarmCfg.............................................................................................................24
getMultiDevList........................................................................................................................25
getMultiDevDetailInfo.............................................................................................................25
addMultiDev.............................................................................................................................25
delMultiDev.............................................................................................................................. 26
User account................................................................................................................................... 26
addAccount..............................................................................................................................26
delAccount............................................................................................................................... 27
changePassword.................................................................................................................... 27
changeUserName...................................................................................................................27
changeUserNameAndPwdTogether....................................................................................28
logIn.......................................................................................................................................... 28
logOut....................................................................................................................................... 29
getSessionList.........................................................................................................................29
getUserList...............................................................................................................................29
usrBeatHeart..............................................................................................................................30
PTZ Control..................................................................................................................................... 30
ptzMoveUp...............................................................................................................................30
ptzMoveDown..........................................................................................................................31
ptzMoveLeft............................................................................................................................. 31
ptzMoveRight.......................................................................................................................... 31
ptzMoveTopLeft.......................................................................................................................31
ptzMoveTopRight....................................................................................................................32
ptzMoveBottomLeft................................................................................................................ 32
ptzMoveBottomRight..............................................................................................................32
ptzStopRun.............................................................................................................................. 32
ptzReset................................................................................................................................... 33
getPTZSpeed.......................................................................................................................... 33
setPTZSpeed.......................................................................................................................... 33
getPTZPresetPointList...........................................................................................................34
ptzAddPresetPoint..................................................................................................................34
Copyright@ Shenzhen Foscam Intelligent Technology Limited

3

Foscam IPCamera CGI User Guide

ptzDeletePresetPoint............................................................................................................. 34
ptzGotoPresetPoint................................................................................................................ 35
ptzGetCruiseMapList............................................................................................................. 35
ptzGetCruiseMapInfo............................................................................................................. 35
ptzSetCruiseMap.................................................................................................................... 36
ptzDelCruiseMap.................................................................................................................... 36
ptzStartCruise..........................................................................................................................36
ptzStopCruise..........................................................................................................................37
setCruiseTime......................................................................................................................... 37
getCruiseTime......................................................................................................................... 37
setCruiseTimeCustomed.......................................................................................................37
getCruiseTimeCustomed.......................................................................................................38
setCruiseLoopCnt...................................................................................................................38
getCruiseLoopCnt...................................................................................................................38
setCruiseCtrlMode..................................................................................................................39
getCruiseCtrlMode................................................................................................................. 39
setCruisePrePointLingerTime...............................................................................................39
getCruisePrePointLingerTime.............................................................................................. 39
zoomIn......................................................................................................................................40
zoomOut...................................................................................................................................40
zoomStop................................................................................................................................. 40
getZoomSpeed........................................................................................................................41
setZoomSpeed........................................................................................................................41
setPTZSelfTestMode..............................................................................................................41
getPTZSelfTestMode............................................................................................................. 42
setPTZPrePointForSelfTest.................................................................................................. 42
getPTZPrePointForSelfTest.................................................................................................. 42
set485Info................................................................................................................................ 43
get485Info................................................................................................................................ 43
Network............................................................................................................................................ 44
getIPInfo................................................................................................................................... 44
setIpInfo....................................................................................................................................44
refreshWifiList..........................................................................................................................45
getWifiList.................................................................................................................................45
setWifiSetting.......................................................................................................................... 45
getWifiConfig........................................................................................................................... 46
getPortInfo............................................................................................................................... 47
setPortInfo................................................................................................................................48
getUPnPConfig....................................................................................................................... 48
setUPnPConfig........................................................................................................................49
getDDNSConfig...................................................................................................................... 49
setDDNSConfig.......................................................................................................................49
setFtpConfig............................................................................................................................ 50
getFtpConfig............................................................................................................................ 50
Copyright@ Shenzhen Foscam Intelligent Technology Limited

4

Foscam IPCamera CGI User Guide

testFtpServer...........................................................................................................................51
getSMTPConfig.......................................................................................................................51
setSMTPConfig.......................................................................................................................52
smtpTest................................................................................................................................... 52
setP2PEnable..........................................................................................................................53
getP2PEnable......................................................................................................................... 53
setP2PPort...............................................................................................................................54
getP2PPort.............................................................................................................................. 54
getP2PInfo............................................................................................................................... 54
getPPPoEConfig.....................................................................................................................54
setPPPoEConfig..................................................................................................................... 55
Device manage............................................................................................................................... 55
setSystemTime....................................................................................................................... 55
getSystemTime....................................................................................................................... 56
openInfraLed........................................................................................................................... 57
closeInfraLed...........................................................................................................................57
getInfraLedConfig................................................................................................................... 57
setInfraLedConfig................................................................................................................... 58
getScheduleInfraLedConfig.................................................................................................. 58
setScheduleInfraLedConfig.................................................................................................. 58
getDevState.............................................................................................................................59
getDevName............................................................................................................................60
setDevName............................................................................................................................60
getDevInfo................................................................................................................................60
getProductModel.....................................................................................................................61
getProductModelName..........................................................................................................61
getProductLanguage..............................................................................................................62
getProductSensorType.......................................................................................................... 62
getProductWifiType................................................................................................................ 62
getProductSdFlag...................................................................................................................62
getProductOutdoorFlag......................................................................................................... 63
getProductPtFlag....................................................................................................................63
getProductZoomFlag............................................................................................................. 63
getProductRs485Flag............................................................................................................ 64
getProductIoAlarmFlag..........................................................................................................64
getProductOnvifFlag.............................................................................................................. 64
getProductP2pFlag.................................................................................................................64
getProductWpsFlag................................................................................................................65
getProductAudioFlag............................................................................................................. 65
getProductTalkFlag.................................................................................................................65
getProductAppVer.................................................................................................................. 66
getProductAllInfo.................................................................................................................... 66
getGeneratePubKey...............................................................................................................67
toolResetToFactory................................................................................................................ 67
Copyright@ Shenzhen Foscam Intelligent Technology Limited

5

Foscam IPCamera CGI User Guide

System..............................................................................................................................................68
rebootSystem.......................................................................................................................... 68
restoreToFactorySetting........................................................................................................ 68
exportConfig............................................................................................................................ 68
ImportConfig............................................................................................................................ 69
FwUpgrade.............................................................................................................................. 69
MISC................................................................................................................................................. 70
getFirewallConfig....................................................................................................................70
setFirewallConfig.................................................................................................................... 70
getLog.......................................................................................................................................70

Copyright@ Shenzhen Foscam Intelligent Technology Limited

6

Foscam IPCamera CGI User Guide

History
Ver

Auth

Edit date

Changes

1.0.0

XiaoJinsheng

2012-11-21

V1.0.0

1.0.1

Houzhen

2012-12-09

Add the following CGI command to set PT
startup position:
1) setPTZSelfTestMode
2) getPTZSelfTestMode
3) setPTZPrePointForSelfTest
4) getPTZPrePointForSelfTest

1.0.2

XiaoJinsheng

2013-01-29

1. Add a snap CGI(snapPicture2) which
retrun jpeg image data directly but a
image url
2. Add MotionJpeg stream support

1.0.3

Houzhen

2013-6-5

Check

and

Modify

CGI

command

document
1.0.4

Limaike

2013-6-8

CGI command check

1.0.5

Houzhen

2013-9-25

1.Add note for GetMJStream, defects of
Firefox;
2.Modify Command:
setContrast、mirrorVideo、flipVideo、logIn、
setSnapConfig

、

setPTZSpeed

、

setInfraLedConfig 、 setSubStreamFormat 、
setPortInfo、getPortInfo；
3.Add command:
getLocalAlarmRecordConfig

；

setLocalAlarmRecordConfig；
getP2PEnable ； setP2PEnable ； getP2PPort ；
setP2PPort ； setOSDMask ； getOSDMask ；
getScheduleSnapConfig

；

setScheduleSnapConfig；
1.0.6

Houzhen

2013-12-12

1.Add command:
-changeUserNameAndPwdTogether；
-getPCAudioAlarmCfg；
-setPCAudioAlarmCfg；
-setH264FrmRefMode；
-getH264FrmRefMode；
-setCruiseTime；
-getCruiseTime；

Copyright@ Shenzhen Foscam Intelligent Technology Limited

7

Foscam IPCamera CGI User Guide

-setSubVideoStreamParam；
-getSubVideoStreamParam；
-setCruiseTimeCustomed；
-getCruiseTimeCustomed；
-setCruiseLoopCnt；
-getCruiseLoopCnt；
-setCruiseCtrlMode；
-getCruiseCtrlMode；
-setCruisePrePointLingerTime；
-getCruisePrePointLingerTime；
-getScheduleRecordStreamChn；
-setScheduleRecordStreamChn；
-getProductModel；
-getProductModelName；
-getProductLanguage；
-getProductSensorType；
-getProductWifiType；
-getProductSdFlag；
-getProductOutdoorFlag；
-getProductPtFlag；
-getProductZoomFlag；
-getProductRs485Flag；
-getProductIoAlarmFlag；
-getProductOnvifFlag;
-getProductP2pFlag;
-getProductWpsFlag;
-getProductAudioFlag;
-getProductTalkFlag;
-getProductAppVer;
-getProductAllInfo;
-getGeneratePubKey;
-toolResetToFactory;
-setScheduleInfraLedConfig;
-getScheduleInfraLedConfig;
2.Modify Login error code-5、-7;
1.0.7

Houzhen

2013-12-14

Modify Command:
1.The usage of command-setSubStreamFormat,
getSnapConfig, setSnapConfig.

Copyright@ Shenzhen Foscam Intelligent Technology Limited

8

Foscam IPCamera CGI User Guide

2.The

example

and

description

of

command-setMotionDetectConfig,
setScheduleSnapConfig, setIOAlarmConfig
1.0.8

Houzhen

2014-1-17

1.Add commmad:
getRecordList2,reloadRecordindex

1.0.9

Houzhen

2014-3-15

1.Add command:
getRatio, setRatio
2.Modify command:
1) The example of command:
setCruisePrePointLingerTime,
getCruisePrePointLingerTime.
2) The return discription of command:
getProductWpsFlag.
3）The Param of command:smtpTest.

1.0.10

Houzhen

2014-4-2

1.Add commmad:getPPPoEConfig,
setPPPoEConfig,getRecordPath,getScheduleRe
cordConfig,getP2PInfo;
2.Modify the priviage of command for security:
changePassword,changeUserName,changeUser
NameAndPwdTogether,getSessionList,getUser
List,getImageSetting,getMirrorAndFlipSetting,
getMotionDetectConfig,getScheduleSnapConfi
g,getVideoStreamParam,getSubVideoStreamPa
ram,getMainVideoStreamType,getSubVideoStr
eamType,getH264FrmRefMode,getSnapConfig
,getOsdMaskArea,getOSDSetting,getOSDMas
k,getPTZSpeed,get485Info,getPTZPresetPoint
List,ptzGetCruiseMapList,ptzGetCruiseMapInf
o,getPTZSelfTestMode,getPTZPrePointForSelf
Test,getCruiseTime,getCruiseTimeCustomed,g
etCruiseLoopCnt,getCruiseCtrlMode,getCruise
PrePointLingerTime,getZoomSpeed,getSMTP
Config,getIPInfo,getPortInfo,getUPnPConfig,g
etDevInfo,getDevName,getFirewallConfig,getS
ystemTime,getFtpConfig,testFtpServer,getDD
NSConfig,getLog,getRecordList,getRecordList
2,reloadRecordindex,getScheduleRecordStrea
mChn,getAlarmRecordConfig,getLocalAlarmR

Copyright@ Shenzhen Foscam Intelligent Technology Limited

9

Foscam IPCamera CGI User Guide

ecordConfig,getPCAudioAlarmCfg,getIOAlar
mConfig,getDevState,getInfraLedConfig,getSc
heduleInfraLedConfig,getP2PEnable,getP2PPo
rt

Copyright@ Shenzhen Foscam Intelligent Technology Limited

10

Foscam IPCamera CGI User Guide

General description
 Our device can only support authentication by pass user name or password attached
at CGI request string currentlly.
For example:
http://192.168.1.2/cgi-bin/CGIProxy.fcgi&usr=admin&pwd=123&cmd=ABC
 We only support GET and POST method. Only importConfig and fwUpgrade can
support POST method.
 The cgi request string must be encode in url format. URL encode rule:
The following chars will not be encoded:
[A~Z] [a~z] [0~9] + @ * /
The other chars will be encoded into hex format.
For example:
http://192.168.1.6:88/cgi-bin/CGIProxy.fcgi?usr=admin&pwd=&cmd=getIPInfo

will be encode to:
http://192.168.1.6:88/cgi-bin/CGIProxy.fcgi?usr%3Dadmin%26pwd%3D%26cmd%3DgetIPInfo

 cgi execute result
1) We orgnize the cgi execute result as xml format, for example:
<CGI_Result>
<result>0</result>
<isDHCP>1</isDHCP>
<ip>192.168.1.8</ip>
<gate>0.0.0.0</gate>
<mask>255.255.255.0</mask>
<dns1>0.0.0.0</dns1>
<dns2>0.0.0.0</dns2>
</CGI_Result>
<result></result> means the common execute result
value

mean

0

Success

-1

CGI request string format error

-2

Username or password error

-3

Access deny

-4

CGI execute fail

-5

Timeout

-6

Reserve

-7

Unknown error

-8

Reserve

Copyright@ Shenzhen Foscam Intelligent Technology Limited

1

Foscam IPCamera CGI User Guide

AV Function
getImageSetting
Function

Get color attribute of video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getImageSetting

Param

None

Return

brightness

0~100

contrast

0~100

hue

0~100

saturation

0~100

sharpness

0~100

denoiseLevel

Not use

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getImageSetting&usr=admin&pwd=

setBrightness
Function

Set brightness of video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setBrightness

Param

brightness

Return

None

0~100

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setBrightness&brightness=50&usr=admin&pwd=

setContrast
Function

Set contrast of video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setContrast

Param

contrast

Return

None

0~100

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setContrast&constrast=50&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

2

Foscam IPCamera CGI User Guide

setHue
Function

Set hue of video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setHue

Param

hue

Return

None

0~100

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setHue&hue=50&usr=admin&pwd=

setSaturation
Function

Set saturation of video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setSaturation

Param

saturation

Return

None

0~100

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setSaturation&saturation=50&usr=admin&pwd=

setSharpness
Function

Set sharpness of video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setSharpness

Param

sharpness

Return

None

0~100

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setSharpness&sharpness=50&usr=admin&pwd=

resetImageSetting
Function

Reset color parameters to default value

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=resetImageSetting

Param

None

Copyright@ Shenzhen Foscam Intelligent Technology Limited

3

Foscam IPCamera CGI User Guide

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=resetImageSetting&usr=admin&pwd=

getMirrorAndFlipSetting
Function

Get mirror and flip attribute of video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getMirrorAndFlipSetting

Param

None

Return

isMirror

Not mirred

1

Mirred

0

Not filpped

1

isFlip

0

Flipped

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getMirrorAndFlipSetting&usr=admin&pwd=

mirrorVideo
Function

Mirror video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=mirrorVideo

Param

isMirror

Not mirror

1
Return

0

Mirror

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=mirrorVideo&isMirror=1&usr=admin&pwd=

flipVideo
Function

Flip video

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=flipVideo

Param

isFlip

0

Not flip

1

Flip

Copyright@ Shenzhen Foscam Intelligent Technology Limited

4

Foscam IPCamera CGI User Guide

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=flipVideo&isFlip=1&usr=admin&pwd=

getRatio
Function

Get value for image distortion correction

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getRatio

Param

None

Return

ratio

Three ranks for image distortion correction
High:150.
Middle:210.
Low:430.

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getRatio&usr=admin&pwd=

setRatio
Function

Set value for image distortion correction

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setRatio

Param

ratio

1. 0-511，value for image distortion correction.
2. Three ranks,
High:0-150.
Middle:151-430.
Low:431-511.
3. Default, Middle.

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setRatio&ratio=150&usr=admin&pwd=

getH264FrmRefMode
Function

Get frame shipping reference mode of H264 encode stream

privilege

admin

Copyright@ Shenzhen Foscam Intelligent Technology Limited

5

Foscam IPCamera CGI User Guide

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getH264FrmRefMode

Param

None

Return

mode

0
1

Normal reference mode
Two frames are separated by four skipping

frames

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getH264FrmRefMode&usr=admin&pwd=

setH264FrmRefMode
Function

Set frame shipping reference mode of H264 encode stream

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setH264FrmRefMode

Param

mode

0
1

Normal reference mode
Two frames are separated by four skipping

frames

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setH264FrmRefMode&mode=0&usr=admin&pwd=

getScheduleRecordStreamChn
Function

Get stream channel for schedule record

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleRecordStreamChn

Param

None

Return

chn

0 main stream
1 sub stream

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleRecordStreamChn&usr=admin&pwd=

setScheduleRecordStreamChn
Function

Set stream channel for schedule record

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setScheduleRecordStreamChn

Param

chn

0 main stream

Copyright@ Shenzhen Foscam Intelligent Technology Limited

6

Foscam IPCamera CGI User Guide
1 sub stream

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setScheduleRecordStreamChn&chn=0&usr=admin
&pwd=

setPwrFreq
Function

Set power freq of sensor

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setPwrFreq

Param

freq

60HZ

1
Return

0

50HZ

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setPwrFreq&freq=0&usr=admin&pwd=

getVideoStreamParam
Function

Get video stream param

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getVideoStreamParam

Param

None

Return

resolutionN

Resolution of stream type N

bitRateN

Bit rate of stream type N

frameRateN

Frame rate of stream type N

GOPN

P frames between I frame of stream type N

isVBRN

Not in use currentlly

(20480~2097152)

Note

N means streamType [0~3]

Example

/cgi-bin/CGIProxy.fcgi?cmd=getVideoStreamParam&usr=admin&pwd=

setVideoStreamParam
Function

Set the video stream param of stream N

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setVideoStreamParam

Copyright@ Shenzhen Foscam Intelligent Technology Limited

7

Foscam IPCamera CGI User Guide

Param

streamType

0~3

resolution

Resolution of stream type N

bitRate

Bit rate of stream type N

frameRate

Frame rate of stream type N

GOP

P frames between I frame of stream type N

(20480~2097152)

The suggest value is: X * frameRate

isVBR
Return

Not in use currentlly

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setVideoStreamParam&streamType=0&resolution=
0&bitRate=2097152&frameRate=30&GOP=30&isVBR=0&usr=admin&pwd=

getSubVideoStreamParam
Function

Get sub video stream param

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getSubVideoStreamParam

Param

None

Return

resolutionN

Resolution of stream type N

bitRateN

Bit rate of stream type N

frameRateN

Frame rate of stream type N

GOPN

P frames between I frame of stream type N

isVBRN

Not in use currentlly

(20480~2097152)

Note

N means streamType [0~3]

Example

/cgi-bin/CGIProxy.fcgi?cmd=getSubVideoStreamParam&usr=admin&pwd=

setSubVideoStreamParam
Function

Set the sub video stream param of stream N

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setSubVideoStreamParam

Param

streamType

0~3

resolution

Resolution of stream type N

bitRate

Bit rate of stream type N

frameRate

Frame rate of stream type N

GOP

P frames between I frame of stream type N

(20480~2097152)

The suggest value is: X * frameRate

Copyright@ Shenzhen Foscam Intelligent Technology Limited

8

Foscam IPCamera CGI User Guide

isVBR
Return

Not in use currentlly

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setSubVideoStreamParam&streamType=0&resoluti
on=0&bitRate=2097152&frameRate=30&GOP=30&isVBR=0&usr=admin&pwd=

getMainVideoStreamType
Function

Get the stream type of main stream

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getMainVideoStreamType

Param

None

Return

streamType

The stream type

0~3

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getMainVideoStreamType&usr=admin&pwd=

getSubVideoStreamType
Function

Get the stream type of sub stream

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getSubVideoStreamType

Param

None

Return

streamType

The stream type

0~3

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getSubVideoStreamType&usr=admin&pwd=

setMainVideoStreamType
Function

Set the stream type of main stream

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setMainVideoStreamType

Param

streamType

Return

None

The stream type

0~3

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setMainVideoStreamType&streamType=0&usr=ad
min&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

9

Foscam IPCamera CGI User Guide

setSubStreamFormat
Function

Set the stream format of sub stream

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setSubStreamFormat

Param

format

0

H264

1

MotionJpeg

Return

None

Note

Our device can only support 2 streams:Main stream for PC access and Sub
stream for mobile access, but someone need a MJ stream to embed their
camera into a webpage, in this case, we should set sub stream format to Motion
Jpeg,

and

then

you

can

get

MJ

stream

by

command:

/cgi-bin/CGIStream.cgi?cmd=GetMJStream, but when you login as a sub stream
user, the stream data will be same as main stream.

Example

/cgi-bin/CGIProxy.fcgi?cmd=setSubStreamFormat&format=0&usr=admin&pwd=

GetMJStream
Function

Get motion jpeg stream

privilege

visitor

Usage

/cgi-bin/CGIStream.cgi?cmd=GetMJStream

Param

None

Return

Motion jpeg stream data

Note

1) Motion jpeg stream data is returned from http server by a serverpush mode
2) MJ stream is VGA resolution @ 15fps
3) For some version of Firefox browse, the Firefox will crash when use
“GetMJStream” CGI to get

mjstream long time. This problem is due to the

browse has some defects, it can not parse data correctly and directly. In
order to fix this problem, we should as follows:
A. Create a .txt empty document, such as “MJ.txt”.
B.Input the content into you .txt document, as follows:

<html>
<body>
<img
src="http://192.168.1.102:99/cgi-bin/CGIStream.cgi?cmd=GetMJStream&usr=adm
in&pwd="/>
</body>
Copyright@ Shenzhen Foscam Intelligent Technology Limited

10

Foscam IPCamera CGI User Guide

</html>
Note: please change the ip\port\usr\pwd to youself;
C. Rename your .txt to .html, such as

“MJ.html”.

D. Open you r.html by Firefox, and enjoy your MJStream-video;
Example

/cgi-bin/CGIStream.cgi?cmd=GetMJStream&usr=admin&pwd=

getOSDSetting
Function

Get OSD config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getOSDSetting

Param

None

Return

isEnableTimeStamp

Time stamp will display on screen or not

isEnableDevName

Camera name will display on screen or not

dispPos

OSD display position, currently can only be 0

isEnableOSDMask

Is OSD mask effective

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getOSDSetting&usr=admin&pwd=

setOSDSetting
Function

Set OSD config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setOSDSetting

Param

isEnableTimeStamp

Time stamp will display on screen or not

isEnableDevName

Camera name will display on screen or not

dispPos

OSD display position, currently can only be 0

isEnableOSDMask

Is OSD mask effective

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setOSDSetting&isEnableTimeStamp=1&isEnableD
evName=1&dispPos=0&isEnableOSDMask=0&usr=admin&pwd=

getOsdMaskArea
Function

Get OSD mask area info

privilege

admin

Copyright@ Shenzhen Foscam Intelligent Technology Limited

11

Foscam IPCamera CGI User Guide

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getOsdMaskArea

Param

None

Return

x1_N

The top left X position of mask N

y1_N

The top left Y position of mask N

x2_N

The bottom right X position of mask N

y2_N

The bottom right Y position of mask N

Note

Our device can only support 4 mask areas

Example

/cgi-bin/CGIProxy.fcgi?cmd=getOsdMaskArea&usr=admin&pwd=

setOsdMaskArea
Function

Set OSD mask area info

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setOsdMaskArea

param

x1_N

The top left X position of mask N

y1_N

The top left Y position of mask N

x2_N

The bottom right X position of mask N

y2_N

The bottom right Y position of mask N

Resturn

None

Note

Our device can only support 4 mask areas

Example

/cgi-bin/CGIProxy.fcgi?cmd=setOsdMaskArea&x1_0=100&y1_0=100&x2_0=20
0&y2_0=200&x1_1=0&y1_1=0&x2_1=0&y2_1=0&x1_2=0&y1_2=0&x2_2=0&y
2_2=0&x1_3=0&y1_3=0&x2_3=0&y2_3=0&usr=admin&pwd=

getOSDMask
Function

Get OSD mask status

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getOSDMask

Param

None

Return

isEnableOSDMask

0-Disable, 1-Enable

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getOSDMask&usr=admin&pwd=

setOSDMask
Function

Set OSD mask status

Copyright@ Shenzhen Foscam Intelligent Technology Limited

12

Foscam IPCamera CGI User Guide

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setOSDMask

Param

isEnableOSDMask

Return

None

0-Disable, 1-Enable

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setOSDMask&isEnableOSDMask=1&usr=admin&p
wd=

getMotionDetectConfig
Function

Get motion detect config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getMotionDetectConfig

Param

None

Return

isEnable

Is enable motion detect alarm

linkage

Motion alarm linkage

bit0:Ring

( bit3 | bit2 | bit1 | bit0 )

bit1:Send mail
bit2:Snap picture
bit3:Record

snapInterval

The interval time to snap picture again

sensitivity

Motion

detect

sensitivity

0 : Low
1: Normal
2: High
3: Lower
4: Lowest

triggerInterval

The time of which motion detect alaram
can trigger again when a motion
detection has happened.

scheduleN

The motion alaram schedule of one week,
N = 0(Monday) ~6(Sunday)
For detail, see *1 bellow

areaN

The area info of row N
For detail, see *2 bellow

Note

·Video region is divided into 10*10 sub areasideo region is divided into 10*10
sub areas
·The min unit of schedule is half an hour, scheduleN value range

2 N - 1 (N[0-48])
N
.areaN value 2 - 1 (N[0-10])
Copyright@ Shenzhen Foscam Intelligent Technology Limited

13

Foscam IPCamera CGI User Guide

Example

/cgi-bin/CGIProxy.fcgi?cmd=getMotionDetectConfig&usr=admin&pwd=

setMotionDetectConfig
Function

Set motion detect config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setMotionDetectConfig

Param

isEnable

Is enable motion detect alarm

linkage

Motion alarm linkage

bit0:Ring

( bit3 | bit2 | bit1 | bit0 )

bit1:Send mail
bit2:Snap picture
bit3:Record

snapInterval

The interval time to snap picture again

sensitivity

Motion

detect

sensitivity

0 : Low
1: Normal
2: High
3: Lower
4: Lowest

triggerInterval

The time of which motion detect alaram
can trigger again when a motion
detection has happened.

scheduleN

The motion alaram schedule of one week,
N = 0(Monday) ~6(Sunday)
For detail, see *1 bellow

areaN

The area info of row N
For detail, see *2 bellow

Return

None

Note

·Video region is divided into 10*10 sub areasideo region is divided into 10*10
sub areas
·The min unit of schedule is half an hour, scheduleN value range

2 N - 1 (N[0-48])
.areaN value

Example

2 N - 1 (N[0-10])

/cgi-bin/CGIProxy.fcgi?cmd=setMotionDetectConfig&isEnable=1&linkage=16&s

napInterval=2&sensitivity=1&triggerInterval=5&schedule0=1023&schedule1=1
023&schedule2=1023&schedule3=1023&schedule4=1023&schedule5=1023&s
chedule6=1023&area0=1023&area1=1023&area2=1023&area3=1023&area4=
1023&area5=1023&area6=1023&area7=1023&area7=1023&area8=1023&area
9=1023&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

14

Foscam IPCamera CGI User Guide

*1 schedule bitmap
0

1

2

3

4

5

6

7

40

41

42

43

44

45

46

47

Monday
Tuesday
Wednesday

…

Thursday
Tuesday
Wednesday
Friday
Saturday
Sunday

Each grid of a row presents half of an hour of one day. For example, 40 presents 20:00
~20:30.
The bit 40 set to “1” means the motion detection is effective between 20:00 to 20:30
*2 area bitmap
bit0

bit1

bit2

bit3

bit4

bit5

bit6

bit7

bit8

bit9

area0
area1
area2
area3
area4
area5
area6
area7
area8
area9

The video region is divided into 10*10 sub areas, bit0 above present the first area, when
this bit is set to “1”, it means motion detection is effective on this area.

setLocalAlarmRecordConfig
Function

Set local alarm-record config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setLocalAlarmRecordConfig

Param

isEnableLocalAlar
mRecord

0

Disable

1

Enable

localAlarmRecordS
ecs

Recording time

Return

None

Note

Copyright@ Shenzhen Foscam Intelligent Technology Limited

15

Foscam IPCamera CGI User Guide

Example

/cgi-bin/CGIProxy.fcgi?cmd=setLocalAlarmRecordConfig&isEnableLocalAlarmR

ecord=1&localAlarmRecordSecs=30&usr=admin&pwd=

getLocalAlarmRecordConfig
Function

Get local alarm-record config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getLocalAlarmRecordConfig

Param

None

Return

isEnableLocalAlar
mRecord

0

Disable

1

Enable

localAlarmRecordS
ecs

Recording time

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getLocalAlarmRecordConfig&usr=admin&pwd=

getSnapConfig
Function

Get snap config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getSnapConfig

Param

None

Return

snapPicQuality

Low quality

1

Normal quality

2

High quality

0

Save to sd card

1

Not in use now

2

saveLocation

0

Upload to FTP

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getSnapConfig&usr=admin&pwd=

setSnapConfig
Function

Set snap config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setSnapConfig

Param

snapPicQuality

0

Low quality

Copyright@ Shenzhen Foscam Intelligent Technology Limited

16

Foscam IPCamera CGI User Guide
1
2
0

Save to sd card
Not in use now

2

Return

High quality

1

saveLocation

Normal quality

Upload to FTP

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setSnapConfig&snapPicQuality=1&saveLocation

=2&usr=admin&pwd=

getScheduleSnapConfig
Function

Get schedule snap config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleSnapConfig

Param

None

Return

isEnable

Is enable motion detect alarm

snapInterval

The interval time to snap picture again

scheduleN

The motion alaram schedule of one week,
N = 0(Monday) ~6(Sunday)
For detail, see *1 bellow

Note

·The min unit of schedule is half an hour, scheduleN value range

2 N - 1 (N[0-48])
Example

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleSnapConfig&usr=admin&pwd=

setScheduleSnapConfig
Function

Set schedule snap config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setScheduleSnapConfig

Param

isEnable

Is enable snap

snapInterval

The interval time to snap picture again

scheduleN

The motion alaram schedule of one week,
N = 0(Monday) ~6(Sunday)
For detail, see *1 bellow

Return

None

Note

·The min unit of schedule is half an hour, scheduleN value range

Copyright@ Shenzhen Foscam Intelligent Technology Limited

17

Foscam IPCamera CGI User Guide

2 N - 1 (N[0-48])
Example

/cgi-bin/CGIProxy.fcgi?cmd=setScheduleSnapConfig&isEnable=1&snapInterva

l=2&schedule0=1023&schedule1=1023&schedule2=1023&schedule3=1023&sc
hedule4=1023&schedule5=1023&schedule6=1023&usr=admin&pwd=

*1 schedule bitmap
0

1

2

3

4

5

6

7

40

41

42

43

44

45

46

47

Monday
Tuesday

…

Wednesday
Thursday
Wednesday
Tuesday
Friday
Saturday
Sunday

Each grid of a row presents half of an hour of one day. For example, 40 presents 20:00
~20:30.
The bit 40 set to “1” means the snap is effective between 20:00 to 20:30

snapPicture
Function

Manual snap picture

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=snapPicture

Param

None

Return

We will return a html script directly:
<html><body><img src="../snapPic/20121121-215939.jpg"/></body></html>

Note

Picture resolution is the same as main stream resolutionnapPicture

Example

/cgi-bin/CGIProxy.fcgi?cmd=snapPicture&usr=admin&pwd=

snapPicture2
Function

Manual snap picture

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=snapPicture2

Param

None

Return

Jpeg image data

Note

This command will return jpeg image data directly

Copyright@ Shenzhen Foscam Intelligent Technology Limited

18

Foscam IPCamera CGI User Guide

Example

/cgi-bin/CGIProxy.fcgi?cmd=snapPicture2&usr=admin&pwd=

getRecordList
Function

Get record list

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getRecordList

Param

recordPath

Record path

startTime

Start time for research

endTime

End time for research

recordType

Recort type

startNo

Start no

totalCnt

Total record count

curCnt

Current record count

recordN

N(0-9), Record information

Return

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getRecordList&usr=admin&pwd=

getRecordList2
Function

Get record list

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getRecordList2

Param

recordPath

Record path

startTime

Start time for research

endTime

End time for research

recordType

Recort type

startNo

Start no

totalCnt

Total record count

curCnt

Current record count

recordN

N(0-9), Record information

Return

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getRecordList2&usr=admin&pwd=

reloadRecordindex
Function

Synchronization of record index for Play

Copyright@ Shenzhen Foscam Intelligent Technology Limited

19

Foscam IPCamera CGI User Guide

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=reloadRecordindex

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=reloadRecordindex&usr=admin&pwd=

getAlarmRecordConfig
Function

Get alarm record config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getAlarmRecordConfig

Param

None

Return

isEnablePreRec
ord
preRecordSecs

Preview record state

alarmRecordSec
s

Alarm record time

Preview record time

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getAlarmRecordConfig&usr=admin&pwd=

setAlarmRecordConfig
Function

Set alarm record config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setAlarmRecordConfig

Param

isEnablePreRec
ord
preRecordSecs

Preview record state

alarmRecordSec
s

Alarm record time

Return

Preview record time

Set result(0-success,-1-error)

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setAlarmRecordConfig&usr=admin&pwd=&isEnabl

ePreRecord=1&preRecordSecs=5&alarmRecordSecs=30

Copyright@ Shenzhen Foscam Intelligent Technology Limited

20

Foscam IPCamera CGI User Guide

getRecordPath
Function

Get record path for storage

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getRecordPath

Param

None

Return

path

0-SD card，2-FTP server

free

The free capacity of storage device

total

The total capacity of storage device

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getRecordPath&usr=admin&pwd=

getScheduleRecordConfig
Function

Get config for schedule recording

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleRecordConfig

Param

None

Return

isEnable

Schedule-Record enable status, 0-disable,1-enable

recordLevel

Level for drop frame,0-30/30,1-24/30,2-15/30,3-8/30,
4-4/30,5-1/30;

spaceFullMode

The process method when SD card is full,0-cover the
oldest video and continue record,1-stop record

isEnableAudio

Is recording include audio? 0-no,1-yes

scheduleN

The motion alaram schedule of one week,
N = 0(Monday) ~6(Sunday)
For detail, see *1 bellow

Note

·The min unit of schedule is half an hour, scheduleN value range

2 N - 1 (N[0-48])
Example

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleRecordConfig&usr=admin&pwd=

setScheduleRecordConfig
Function

Set schedule recordconfig

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setScheduleRecordConfig

Param

isEnable

Schedule-Record enable status, 0-disable,1-enable

Copyright@ Shenzhen Foscam Intelligent Technology Limited

21

Foscam IPCamera CGI User Guide

recordLevel

Level for drop frame,0-30/30,1-24/30,2-15/30,3-8/30,
4-4/30,5-1/30;

spaceFullMode

The process method when SD card is full,0-cover the
oldest video and continue record,1-stop record

isEnableAudio

Is recording include audio? 0-no,1-yes

scheduleN

The motion alaram schedule of one week,
N = 0(Monday) ~6(Sunday)
For detail, see *1 bellow

Return

None

Note

·The min unit of schedule is half an hour, scheduleN value range

2 N - 1 (N[0-48])
Example

/cgi-bin/CGIProxy.fcgi?cmd=setScheduleRecordConfig&isEnable=1&recordLev

el=0&spaceFullMode=0&isEnableAudio=0&schedule0=1023&schedule1=1023&
schedule2=1023&schedule3=1023&schedule4=1023&schedule5=1023&sched
ule6=1023&usr=admin&pwd=

*1 schedule bitmap
0

1

2

3

4

5

6

7

40

41

42

43

44

45

46

47

Monday
Tuesday
Wednesday

…

Thursday
Wednesday
Tuesday
Friday
Saturday
Sunday

Each grid of a row presents half of an hour of one day. For example, 40 presents 20:00
~20:30.
The bit 40 set to “1” means the snap is effective between 20:00 to 20:30

setIOAlarmConfig
Function

Set IO alarm config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setIOAlarmConfig

Param

isEnable

Enable state

linkage

IO alarm linkage

bit0:Ring
bit1:Send mail

Copyright@ Shenzhen Foscam Intelligent Technology Limited

22

Foscam IPCamera CGI User Guide
bit2:Snap picture
bit3:Record

alarmLevel
snapInterval

Interval for snap picture

triggerInterva
l
scheduleN
Return

Alarm level,0-Low,1-high,trigger alarm

Interval for trigger alarm again
N(0-6), alarm schedule

Set result(0-success,-1-error)

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setIOAlarmConfig&usr=admin&pwd=&isEnable=1
&linkage=16&snapInterval=2&alarmLevel=1&triggerInterval=5&schedule0=102
4&schedule1=1024&schedule2=1024&schedule3=1024&schedule4=1024&sch
edule5=1024&schedule6=1024

getIOAlarmConfig
Function

Get IO alarm config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getIOAlarmConfig

Param

None

Return

isEnable

Enable state

linkage

IO alarm linkage

bit0:Ring
bit1:Send mail
bit2:Snap picture
bit3:Record

alarmLevel

Alarm level

snapInterval

Interval for snap picture

triggerInterva
l
scheduleN

Interval for trigger alarm again
N(0-6), alarm schedule

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getIOAlarmConfig&usr=admin&pwd=

clearIOAlarmOutput
Function

Clean IO alarm output

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=clearIOAlarmOutput

Copyright@ Shenzhen Foscam Intelligent Technology Limited

23

Foscam IPCamera CGI User Guide

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=clearIOAlarmOutput&usr=admin&pwd=

setPCAudioAlarmCfg
Function

Set audio alarm config for PC（web live video）

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setPCAudioAlarmCfg

Param

isEnablePCAudi
oAlarm

Return

Set result(0-success,-1-error)

Enable state

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setPCAudioAlarmCfg&usr=admin&pwd=&isEnable
PCAudioAlarm=1

getPCAudioAlarmCfg
Function

Get audio alarm config for PC（web live video）

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getPCAudioAlarmCfg

Param

None

Return

isEnablePCAudi
oAlarm

Enable state

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getPCAudioAlarmCfg&usr=admin&pwd=

getMultiDevList
Function

Get multi device list

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getMultiDevList

Param

None

Return

devN

N(0-8), device information

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getMultiDevList&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

24

Foscam IPCamera CGI User Guide

getMultiDevDetailInfo
Function

Get multi device information

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getMultiDevDetailInfo

Param

chnnl

Channel no

Return

productType

Device type

ip

Device IP

port

Web port

mediaPort

Media port

userName

User name

passWord

Password

devName

Device name

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getMultiDevDetailInfo&usr=admin&pwd=

addMultiDev
Function

Add multiy device

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=addMultiDev

Param

chnnl

Channel no

productType

Device type

ip

Device Ip

port

Web port

mediaPort

Media port

userName

User name

passWord

Password

devName

Device name

Return

Add result(0-success,-1-error)

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=addMultiDev&usr=admin&pwd=&chnnl=2&product

Type=H264&ip=192.168.1.3&port=88&mediaPort=88&userName=admin&pass
Word=&devName=FI9805W

Copyright@ Shenzhen Foscam Intelligent Technology Limited

25

Foscam IPCamera CGI User Guide

delMultiDev
Function

Delete multiy device

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=delMultiDev

Param

chnnl

Return

Delete result(0-success,-1-error)

Channel no

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=delMultiDev&usr=admin&pwd=&chnnl=2

User account
addAccount
Function

Add user account

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=addAccount

Param

usrName

user name

usrPwd

user password

privilege

0

Visitor

1

Operator

2

Administrator

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=addAccount&usrName=test&usrPwd=test&privileg
e=0& usr=admin&pwd=

delAccount
Function

Delete user account

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=delAccount

Param

usrName

user name

Copyright@ Shenzhen Foscam Intelligent Technology Limited

26

Foscam IPCamera CGI User Guide

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=delAccount&usrName=test&usr=admin&pwd=

changePassword
Function

Change password

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=changePassword

Param

usrName

The user you want to change password

oldPwd

old password

newPwd

new password

Return

None

Note

Admin can change every user’s password, visitor and operator can only change
their own password

Example

/cgi-bin/CGIProxy.fcgi?cmd=changePassword&usrName=admin&oldPwd=&ne
wPwd=test&usr=admin&pwd=

changeUserName
Function

Change user name

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=changeUserName

Param

usrName

The user you want to change name

newUsrName

The new user name

Return

None

Note

Admin can change every user’s name, visitor and operator can only change
their own name

Example

/cgi-bin/CGIProxy.fcgi?cmd=changeUserName&usrName=admin&
newUsrName=newname&usr=admin&pwd=

changeUserNameAndPwdTogether
Function

Change user name and password together

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=changeUserNameAndPwdTogether

Copyright@ Shenzhen Foscam Intelligent Technology Limited

27

Foscam IPCamera CGI User Guide

Param

usrName

The user you want to change name

newUsrName

New user name

oldPwd

old password

newPwd

new password

Return

None

Note

Admin can change every user’s name, visitor and operator can only change
their own name

Example

/cgi-bin/CGIProxy.fcgi?cmd=changeUserNameAndPwdTogether&usrName=ad
min&newUsrName=newname&oldPwd=&newPwd=newpwd&usr=admin&pwd=

logIn
Function

User log in to camera

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd= logIn

Param

usrName

User name

remoteIp

Access IP

groupId

An id use to distinguish different users,can be set to
current cpu tick

pwd
logInResult

0

Login success

-1

Parameter check error

-2

Exceed max user

-4

User not exist

-5

Password

-6

Password error

-7

Access deny

-8

Already login

0

Visitor

1

Operator

2

Return

password

Administrator

privilege

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=logIn&usrName=admin&remoteIp=192.168.1
.12&groupId=673982479&pwd=&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

28

Foscam IPCamera CGI User Guide

logOut
Function

User log out to camera

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=logOut

Param

usrName

User name

ip

Access IP

groupId

An id use to distinguish different users,can be set to
current cpu tick

Return

logOutResult

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=logOut&usrName=admin&ip=192.168.1.12&groupI
d=673982479&usr=admin&pwd=

getSessionList
Function

Get current session list of the camera

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getSessionList

Param

None

Return

usrCnt

session count

usrN

User name of session N

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getSessionList&usr=admin&pwd=

getUserList
Function

Get user account list of the camera

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getUserList

Param

None

Return

usrCnt

User count

usrN

User name of accnount N

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getUserList&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

29

Foscam IPCamera CGI User Guide

usrBeatHeart
Function

user checks connection with camera

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=usrBeatHeart

Param

usrName

User name

remoteIp

Access IP

groupId

An id use to distinguish different users,can be set to
current cpu tick

Return

checkResult(0-success,-1-error)

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=usrBeatHeart&usrName=admin&ip=192.168.1.13
&groupId=673982479&usr=admin&pwd=

PTZ Control
ptzMoveUp
Function

Move up

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveUp

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveUp&usr=admin&pwd=

ptzMoveDown
Function

Move down

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveDown

Param

None

Return

None

Note

Copyright@ Shenzhen Foscam Intelligent Technology Limited

30

Foscam IPCamera CGI User Guide

Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveDown&usr=admin&pwd=

ptzMoveLeft
Function

Move to left

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveLeft

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveLeft&usr=admin&pwd=

ptzMoveRight
Function

Move to right

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveRight

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveRight&usr=admin&pwd=

ptzMoveTopLeft
Function

Move to top left

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveTopLeft

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveTopLeft&usr=admin&pwd=

ptzMoveTopRight
Function

Move to top right

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveTopRight

Copyright@ Shenzhen Foscam Intelligent Technology Limited

31

Foscam IPCamera CGI User Guide

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveTopRight&usr=admin&pwd=

ptzMoveBottomLeft
Function

Move to bottom left

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveBottomLeft

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveBottomLeft&usr=admin&pwd=

ptzMoveBottomRight
Function

Move to bottom right

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveBottomRight

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzMoveBottomRight&usr=admin&pwd=

ptzStopRun
Function

Stop run PT

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzStopRun

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzStopRun&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

32

Foscam IPCamera CGI User Guide

ptzReset
Function

Reset PT to default position

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzReset

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzReset&usr=admin&pwd=

getPTZSpeed
Function

Get the speed of PT

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getPTZSpeed

Param

None

Return

speed

0

Very slow

1

Slow

2

Normal speed

3

Fast

4

Very fast

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getPTZSpeed&usr=admin&pwd=

setPTZSpeed
Function

Set the speed of PT

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setPTZSpeed

Param

speed

Very slow

1

Slow

2

Normal speed

3

Fast

4

Return

0

Very fast

None

Note
Copyright@ Shenzhen Foscam Intelligent Technology Limited

33

Foscam IPCamera CGI User Guide

Example

/cgi-bin/CGIProxy.fcgi?cmd=setPTZSpeed&speed=2&usr=admin&pwd=

getPTZPresetPointList
Function

Get all preset point

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getPTZPresetPointList

Param

None

Return

cnt

Current preset point count

pointN

The name of point N

Note

Our device can support at most 16 preset point
We have 4 point default:LeftMost\RightMost\TopMost\BottomMost

Example

/cgi-bin/CGIProxy.fcgi?cmd=getPTZPresetPointList&usr=admin&pwd=

ptzAddPresetPoint
Function

Add preset point

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzAddPresetPoint

Param

name

Return

None

Note

The preset point position is current PT position

Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzAddPresetPoint&name=test&usr=admin&pwd

Preset point name

=

ptzDeletePresetPoint
Function

Delete preset point by name

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzDeletePresetPoint

Param

name

Return

None

Preset point name

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzDeletePresetPoint&name=test&usr=admin&p
wd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

34

Foscam IPCamera CGI User Guide

ptzGotoPresetPoint
Function

Goto preset position

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzGotoPresetPoint

Param

name

Return

None

Preset point name

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzGotoPresetPoint&name=test&usr=admin&pwd
=

ptzGetCruiseMapList
Function

Get all cruise map list

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzGetCruiseMapList

Param

None

Return

cnt

Current cruise map point count

mapN

The name of map N

Note

Our device can support at most 8 cruise map
We have 2 maps default:Horizental/Vertical

Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzGetCruiseMapList&usr=admin&pwd=

ptzGetCruiseMapInfo
Function

Get the detail info of a cruise map by name

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzGetCruiseMapInfo

Param

name

Name of the cruise map

Return

getResult

0

Success

-1

Fail

pointN

The preset point name of this cruise map

Note

Our device can support at most 8 preset point one cruise map

Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzGetCruiseMapInfo&name=Horizental&usr=ad
min&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

35

Foscam IPCamera CGI User Guide

ptzSetCruiseMap
Function

Add a cruise map

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzSetCruiseMap

Param

name

Name of the cruise map

pointN

The name of preset point N

Return

None

Note

Our device can support at most 8 preset point one cruise map

Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzSetCruiseMap&name=test&point0=test0&point
1=test1&point2=test2&point3=test3&point4=test4&point5=test5&point6=&poin
t7=&usr=admin&pwd=

ptzDelCruiseMap
Function

Delete a cruise map

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzDelCruiseMap

Param

name

Return

None

Name of the cruise map

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzDelCruiseMap&name=test&usr=admin&pwd=

ptzStartCruise
Function

Start a specificate cruise

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzStartCruise

Param

mapName

Return

None

Name of the cruise map

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzStartCruise&mapName=test&usr=admin&pwd=

ptzStopCruise
Function

Start current cruise

privilege

operator

Copyright@ Shenzhen Foscam Intelligent Technology Limited

36

Foscam IPCamera CGI User Guide

Usage

/cgi-bin/CGIProxy.fcgi?cmd=ptzStopCruise

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=ptzStopCruise&usr=admin&pwd=

setCruiseTime
Function

Set time for continue cruise

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseTime

Param

time

Return

None

Time for continue cruise

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseTime&time=5&usr=admin&pwd=

getCruiseTime
Function

Set time for continue cruise

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getCuriseTime

Param
Return

time

Time for continue cruise

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getCuriseTime&usr=admin&pwd=

setCruiseTimeCustomed
Function

Set time for continue cruise by costomer

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseTimeCustomed

Param

time

Customed time for continue cruise

customed

Customed enable state-0-no,1-yes

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseTimeCustomed&time=5&customed=1&u
sr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

37

Foscam IPCamera CGI User Guide

getCruiseTimeCustomed
Function

Set time for continue cruise by costomer

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getCuriseTimeCustomed

Param
time

Customed time for continue cruise

customed

Return

Customed enable state-0-no,1-yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getCuriseTimeCustomed&usr=admin&pwd=

setCruiseLoopCnt
Function

Set counts for continue cruise

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseLoopCnt

Param

count

Return

None

Counts for continue cruise

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseLoopCnt&count=5&usr=admin&pwd=

getCruiseLoopCnt
Function

Set counts for continue cruise

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getCruiseLoopCnt

Param
Return

count

Counts for continue cruise

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getCruiseLoopCnt&usr=admin&pwd=

setCruiseCtrlMode
Function

Set control mode for continue cruise, by time or count

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseCtrlMode

Copyright@ Shenzhen Foscam Intelligent Technology Limited

38

Foscam IPCamera CGI User Guide

Param

mode

Return

None

Control mode-0:by time,1:by loop count

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setCruiseCtrlMode&mode=0&usr=admin&pwd=

getCruiseCtrlMode
Function

Get control mode for continue cruise, by time or count

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getCruiseCtrlMode

Param
Return

mode

Control mode-0:by time,1:by loop count

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getCruiseCtrlMode&usr=admin&pwd=

setCruisePrePointLingerTime
Function

Set linger time for cruise,when pt arrive prepoint

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setCruisePrepointLingerTime

Param

name

Cruise map name

timeN

Time for each prepoint

Return

None

Note

N:[0-7],max number of prepoints in cruise

Example

/cgi-bin/CGIProxy.fcgi?cmd=setCruisePrePointLingerTime&name=123&time0=
0&time1=1&time2=2&time3=3&time4=4&time5=5&time6=6&time7=7&usr=ad
min&pwd=

getCruisePrePointLingerTime
Function

Set linger time for cruise,when pt arrive prepoint

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getCruisePrepointLingerTime

Param

name

Cruise map name

Return

timeN

Time for each prepoint

Note

N:[0-7],max number of prepoints in cruise

Example

/cgi-bin/CGIProxy.fcgi?cmd=getCruisePrePointLingerTime&name=123&usr=a

Copyright@ Shenzhen Foscam Intelligent Technology Limited

39

Foscam IPCamera CGI User Guide
dmin&pwd=

zoomIn
Function

Zoom in

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=zoomIn

Param

None

Return

None

Note

Only supported by the device has zoom lens

Example

/cgi-bin/CGIProxy.fcgi?cmd=zoomIn&usr=admin&pwd=

zoomOut
Function

Zoom out

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=zoomOut

Param

None

Return

None

Note

Only supported by the device has zoom lens

Example

/cgi-bin/CGIProxy.fcgi?cmd=zoomOut&usr=admin&pwd=

zoomStop
Function

Stop zoom run

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=zoomStop

Param

None

Return

None

Note

Only supported by the device has zoom lens

Example

/cgi-bin/CGIProxy.fcgi?cmd=zoomStop&usr=admin&pwd=

getZoomSpeed
Function

Get the speed of Zoom

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getZoomSpeed

Copyright@ Shenzhen Foscam Intelligent Technology Limited

40

Foscam IPCamera CGI User Guide

Param

None

Return

speed

0

Slow

1

Normal

2

Fast

Note

Only supported by the device has zoom lens

Example

/cgi-bin/CGIProxy.fcgi?cmd=getZoomSpeed&usr=admin&pwd=

setZoomSpeed
Function

Set the speed of PTZ

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setZoomSpeed

Param

speed

0

Slow

1

Normal

2

Fast

Return

None

Note

Only supported by the device has zoom lens

Example

/cgi-bin/CGIProxy.fcgi?cmd=setZoomSpeed&usr=admin&pwd=&speed=1

setPTZSelfTestMode
Function

Set the selftest mode of PTZ

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd= setPTZSelfTestMode

Param

mode

0

No selftest

1

Normal selftest

2

After

normal

selftest,

then

goto

presetpoint-appointed
Return

None

Note

Only supported by ipc that can enable ptz-selftest

Example

/cgi-bin/CGIProxy.fcgi?usr=admin&pwd=&cmd=setPTZSelfTestMode&mod
e=2

getPTZSelfTestMode
Function

Get the selftest mode of PTZ

privilege

operator

Copyright@ Shenzhen Foscam Intelligent Technology Limited

41

Foscam IPCamera CGI User Guide

Usage

/cgi-bin/CGIProxy.fcgi?cmd= getPTZSelfTestMode

Param

None

Return

mode

0

No selftest

1

Normal selftest

2

After

normal

selftest,

then

goto

presetpoint-appointed
Return

None

Note

Only supported by ipc that can enable ptz-selftest

Example

/cgi-bin/CGIProxy.fcgi?usr=admin&pwd=&cmd=getPTZSelfTestMode

setPTZPrePointForSelfTest
Function

Set presetpoint for selftest of PTZ

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd= setPTZPrePointForSelfTest

Param

name

Return

None

Note

Only supported by ipc that can enable ptz-selftest-2

Example

/cgi-bin/CGIProxy.fcgi?usr=admin&pwd=&cmd=setPTZPrePointForSelfTes

Preset point name

t&name=TopMost

getPTZPrePointForSelfTest
Function

Get the presetpoint for selftest of PTZ

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd= getPTZPrePointForSelfTest

Param

None

Return

name

Note

Only supported by ipc that can enable ptz-selftest

Example

/cgi-bin/CGIProxy.fcgi?usr=admin&pwd=&cmd=getPTZPrePointForSelfTes

Preset point name

t

set485Info
Function

Set informations of 485

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=set485Info

Copyright@ Shenzhen Foscam Intelligent Technology Limited

42

Foscam IPCamera CGI User Guide

Param

rs485Protocol

Protocol

rs485Addr

Address

rs485Baud

Baud rate

rs485DataBit

DataBit

rs485StopBit

StopBit

rs485Check

Parity

Return

None

Note

Only supported by ipc that can enable 485

Example

/cgi-bin/CGIProxy.fcgi?usr=admin&pwd=&cmd=set485Info&rs485Protocol
=0&rs485Addr=1&rs485Baud=1200&rs485DataBit=7&rs485StopBit=1&rs
485Check=0

get485Info
Function

Get informations of 485

privilege

operator

Usage

/cgi-bin/CGIProxy.fcgi?cmd=get485Info

Param

None

Return

rs485Protocol

Protocol

rs485Addr

Address

rs485Baud

Baud rate

rs485DataBit

DataBit

rs485StopBit

StopBit

rs485Check

Parity

Note

Only supported by ipc that can enable 485

Example

/cgi-bin/CGIProxy.fcgi?usr=admin&pwd=&cmd=get485Info

Network
getIPInfo
Function

Get IP Info

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getIPInfo

Param

None

Return

isDHCP

Obtain ip from dhcp server or not

Copyright@ Shenzhen Foscam Intelligent Technology Limited

43

Foscam IPCamera CGI User Guide
ip

ip address(Can only support ipv4 yet)

gate

gateway(“0.0.0.0” when use dhcp)

mask

subnet mask

dns1

The first dns server addr(“0.0.0.0” when use dhcp)

dns2

The second dns server addr(“0.0.0.0” when use dhcp)

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getIPInfo&usr=admin&pwd=

setIpInfo
Function

Set IP Info

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setIpInfo

Param

isDHCP

Obtain ip from dhcp server or not

ip

ip address(Can only support ipv4 yet)

gate

gateway

mask

subnet mask

dns1

The first dns server addr

dns2

The second dns server addr

Return

None

Note

System will reboot automatically to take effect after call this CGI command

Example

/cgi-bin/CGIProxy.fcgi?cmd=setIpInfo&isDHCP=0&ip=192.168.1.88&gate=192
.168.1.1&mask=255.255.255.0&dns1=192.168.1.1&dns2=192.168.1.1&usr=a
dmin&pwd=

refreshWifiList
Function

Start scan the aps around

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=refreshWifiList

Param

None

Return

None

Note

This operation may takes a while, about 20 seconds or above, the other
operation on this device will be blocked during the period.

Example

/cgi-bin/CGIProxy.fcgi?cmd=refreshWifiList&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

44

Foscam IPCamera CGI User Guide

getWifiList
Function

Get the aps around after refreshWifiList

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getWifiList

Param

startNo

The start NO of the ap list you want to get.
For example:The are 30 aps around you, you want to look at the
last ten aps, then startNo=20

Return

totalCnt

Total count of aps

curCnt

Current aps count

apN

The detail info of ap N

ssid

AP name

Format:

mac

AP’s mac address

ssid+mac+quality+isEncryp

quality

Signal quality(0~100)

t+encrypType

isEncrypt

Encrypt or not

encrypType

0

Open mode

1

WEP

2

WPA

3

WPA2

4

WPA/WPA2

Note

Only 10 aps will be returned one time

Example

/cgi-bin/CGIProxy.fcgi?cmd=getWifiList&startNo=0&usr=admin&pwd=

setWifiSetting
Function

Set wifi config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setWifiSetting

Param

isEnable

Enable state

isUseWifi

Use wifi or not

ssid

AP name

netType

0

Infra net

1

Ad-hoc

encryptTyp

0

Open mode

e

1

WEP

2

WPA

3

WPA2

4

WPA/WPA2

Not supported yet

Copyright@ Shenzhen Foscam Intelligent Technology Limited

45

Foscam IPCamera CGI User Guide
psk

The psk of WPA WPA2

authMode

0

Open mode

1

Shared key

2

Auto mode

0

ASIC

1

Hex

keyFormat

defaultKey

1~4

key1
key2
key3
key4
key1Len

64 or 128

key2Len

64 or 128

key3Len

64 or 128

key4Len

64 or 128

Return

None

Note

Camera will not connect to AP unless you enject your cable

Example

/cgi-bin/CGIProxy.fcgi?cmd=setWifiSetting&isEnable=1&isUseWifi=1&ssid=fosta
r_soft&netType=0&encryptType=4&psk=software&authMode=0&keyFormat=0&d
efaultKey=1&key1=&key2=&key3=&key4=&key1Len=64&key2Len=64&key3Len
=64&key4Len=64&usr=admin&pwd=

getWifiConfig
Function

Get wifi config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getWifiConfig

Param

None

Return

isEnable

Enable state

isUseWifi

Use wifi or not

isConnecte

Connected state

d
connected

Connedted ap

Ap
ssid

AP name

encryptTyp

0

Open mode

e

1

WEP

Copyright@ Shenzhen Foscam Intelligent Technology Limited

46

Foscam IPCamera CGI User Guide
2

WPA

3

WPA2

4

WPA/WPA2

psk

The psk of WPA WPA2

authMode

0

Open mode

1

Shared key

2

Auto mode

0

ASIC

1

Hex

keyFormat

defaultKey

1~4

key1
key2
key3
key4
key1Len

64 or 128

key2Len

64 or 128

key3Len

64 or 128

key4Len

64 or 128

Return

None

Note

Camera will not connect to AP unless you enject your cable

Example

/cgi-bin/CGIProxy.fcgi?cmd=getWifiConfig&usr=admin&pwd=

getPortInfo
Function

Get ports of camera

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getPortInfo

Param

None

Return

webPort

http port(default value is 88)

httpsPort

https port(default value is 443)

mediaPort

media port(default value is 88)

onvifPort

Onvif Port(default value is 888)

Note

.You can call this CGI command without usr or pwd section
.onvifPort param only for onvif camera, the camra which does not has onvif

function does not have this param
Example

/cgi-bin/CGIProxy.fcgi?cmd=getPortInfo&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

47

Foscam IPCamera CGI User Guide

setPortInfo
Function

Set ports of camera

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getPortInfo

Param

webPort

http port(default value is 88)

mediaPort

media port(default value is 88)

httpsPort

https port(default value is 443)

onvifPort

Onvif Port(default value is 888)

Return

None

Note

.Re login is needed after call this CGI command
.onvifPort param only for onvif camera, the camra which does not has onvif

function does not have this param
Example

/cgi-bin/CGIProxy.fcgi?cmd=setPortInfo&webPort=88&mediaPort=88&httpsPo
rt=443&onvifPort=888&usr=admin&pwd=

getUPnPConfig
Function

Get UpnP config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getUPnPConfig

Param

None

Return

isEnable

is Enable UpnP function

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getUPnPConfig&usr=admin&pwd=

setUPnPConfig
Function

Set UpnP config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setUPnPConfig

Param

isEnable

Return

None

is Enable UpnP function

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setUPnPConfig&isEnable=1&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

48

Foscam IPCamera CGI User Guide

getDDNSConfig
Function

Get DDNS config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getDDNSConfig

Param

None

Return

isEnable

is Enable DDNS update

hostName

DDNS domain

ddnsServer

0

Factory DDNS

1

Oray

2

3322

3

no-ip

4

dyndns

user

user name

password

password

factoryDDNS

factory ddns

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getDDNSConfig&usr=admin&pwd=

setDDNSConfig
Function

Set DDNS config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setDDNSConfig

Param

isEnable

is Enable DDNS update

hostName

DDNS domain

ddnsServer

0

Factory DDNS

1

Oray

2

3322

3

no-ip

4

dyndns

user

user name

password

password

Return

None

Note

This command can only be used to set the third party ddns

Example

/cgi-bin/CGIProxy.fcgi?cmd=setDDNSConfig&isEnable=1&hostName=test.dyn
dns.org&ddnsServer=4&user=test&password=test&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

49

Foscam IPCamera CGI User Guide

setFtpConfig
Function

Set FTP config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setFtpConfig

Param

ftpAddr

FTP server address, you can contain sub directory in it

ftpPort

FTP port

mode

0

PASV mode

1

PORT mode

userName
password

Return

user name
password

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setFtpConfig&ftpAddr=ftp://192.168.1.2/sbuDir&ft
pPort=21&mode=0&userName=test&password=test&usr=admin&pwd=

getFtpConfig
Function

Get FTP config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getFtpConfig

Param

None

Param

ftpAddr

FTP server address, you can contain sub directory in it

ftpPort

FTP port

mode

0

PASV mode

1

PORT mode

userName

user name

password

password

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getFtpConfig&usr=admin&pwd=

testFtpServer
Function

Test FTP server

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=testFtpServer

Param

ftpAddr

FTP server address, you can contain sub directory in it

Copyright@ Shenzhen Foscam Intelligent Technology Limited

50

Foscam IPCamera CGI User Guide
ftpPort

FTP port

mode

0

PASV mode

1

PORT mode

userName
password

password

testResult

0

Success

-1

Return

user name

Fail

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=testFtpServer&ftpAddr=ftp://192.168.1.2/sbuDir&f
tpPort=21&mode=0&userName=test&password=test&usr=admin&pwd=

getSMTPConfig
Function

Get mail config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getSMTPConfig

Param

None

Return

isEnable

is enable camera send mail?

server

SMTP server address

port

smtp port

isNeedAuth

Need auth user account or not

tls

0

None

1

TLS

2

STARTTLS

user

user name

password

password

sender
reciever

Use “,” between 2 senders, for exapler:
aaa@123.com,bbb@456.com

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getSMTPConfig&usr=admin&pwd=

setSMTPConfig
Function

Get mail config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setSMTPConfig

Copyright@ Shenzhen Foscam Intelligent Technology Limited

51

Foscam IPCamera CGI User Guide

Param

isEnable

is enable camera send mail?

server

SMTP server address

port

smtp port

isNeedAuth

Need auth user account or not

tls

0

None

1

TLS

2

STARTTLS

user

user name

password

password

sender
reciever

Use “,” between 2 senders, for exapler:
aaa@123.com,bbb@456.com

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setSMTPConfig&isEnable=1&server=smtp.gmail.
com&port=587&isNeedAuth=1&user=test&password=test&send=test@gmail.c
om&reciever=aa@123.com,bb@456.com&usr=admin&pwd=

smtpTest
Function

Test mail setting

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=smtpTest

Param

smtpServer

SMTP server address

port

smtp port

isNeedAuth

Need auth user account or not

tls

0

None

1

TLS

2

STARTTLS

user
password

Send Email address

testResult

0

Success

-1

Note

password

sender

Return

user name

Fail

You must call setSMTPConfig firstly.
We will send a test mail to all recievers

Example

/cgi-bin/CGIProxy.fcgi?cmd=smtpTest&smtpServer=smtp.gmail.com&port=587

Copyright@ Shenzhen Foscam Intelligent Technology Limited

52

Foscam IPCamera CGI User Guide
&isNeedAuth=1&user=test&password=test&sender=test@gmail.com&usr=ad
min&pwd=

setP2PEnable
Function

Set p2p status

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setP2PEnable

enable

Disable

1

Return

0

Enable

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setP2PEnable&enable=1&usr=admin&pwd=

getP2PEnable
Function

Get p2p status

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getP2PEnable

Param

None

enable

0

Disable

1

Enable

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getP2PEnable&usr=admin&pwd=

setP2PPort
Function

Set p2p port

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setP2PPort

port
Return

P2P port number

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setP2PPort&port=12345&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

53

Foscam IPCamera CGI User Guide

getP2PPort
Function

Get p2p port

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getP2PPort

Param

None

Return

port

P2P port number

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getP2PPort&usr=admin&pwd=

getP2PInfo
Function

Get p2p UID

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getP2PInfo

Param

None

Return

uid

P2P UID

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getP2PInfo&usr=admin&pwd=

getPPPoEConfig
Function

Get PPPoE config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getPPPoEConfig

Param

None

Return

isEnable

is Enable PPPoE function

userName

userName

password

password

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getPPPoEConfig&usr=admin&pwd=

setPPPoEConfig
Function

Set PPPoE config

privilege

admin

Copyright@ Shenzhen Foscam Intelligent Technology Limited

54

Foscam IPCamera CGI User Guide

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setPPPoEConfig

Param

isEnable

is Enable PPPoE function

userName

userName

password

password

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setPPPoEConfig&isEnable=1&userName=usr&p
assword=pwd&usr=admin&pwd=

Device manage
setSystemTime
Function

Set system time

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setSystemTime

Param

timeSource

Get time from NTP server

1
ntpServer

0

Set time manually

ntp server addr
Support ntp server:
time.nist.gov

time.kriss.re.kr

time.windows.com

time.nuri.net
dateFormat

DD/MM/YYYY

2

MM/DD/YYYY

0

12 hours

1
timeZone

YYYY-MM-DD

1

timeFormat

0

24 hours

The seconds between local time and GMT time.
For example: timeZone=3600 presents GMT-01:00
timeZone=-3600 presents GMT+01:00

isDst

Daylight saving time (0-disable,1-enable)

dst

Not in use currently

year
month
day
hour
min

Copyright@ Shenzhen Foscam Intelligent Technology Limited

55

Foscam IPCamera CGI User Guide
sec

Return

None

Note

This command can only be used to set the third party ddns

Example

/cgi-bin/CGIProxy.fcgi?cmd=setSystemTime&timeSource=1&ntpServer=&date
Format=0&timeFormat=0&timeZone=0&isDst=0&dst=0&year=2012&mon=1&
day=6&hour=9&minute=35&sec=0&usr=admin&pwd=

getSystemTime
Function

Get system time

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getSystemTime

Param

None

Return

timeSource

Get time from NTP server

1
ntpServer

0

Set time manually

ntp server addr
Support ntp server:
time.nist.gov

time.kriss.re.kr

time.windows.com

time.nuri.net
dateFormat

DD/MM/YYYY

2

MM/DD/YYYY

0

12 hours

1
timeZone

YYYY-MM-DD

1

timeFormat

0

24 hours

The seconds between local time and GMT time.
For example: timeZone=3600 presents GMT-01:00
timeZone=-3600 presents GMT+01:00

isDst

Daylight saving time (0-disable,1-enable)

dst

Not in use currently

year
month
day
hour
min
sec

Note

This command can only be used to set the third party ddns

Example

/cgi-bin/CGIProxy.fcgi?cmd=getSystemTime&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

56

Foscam IPCamera CGI User Guide

openInfraLed
Function

Force open infra led

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=openInfraLed

Param

None

Return

ctrlResult

0

Success

-1

Fail

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=openInfraLed&usr=admin&pwd=

closeInfraLed
Function

Force close infra led

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=closeInfraLed

Param

None

Return

ctrlResult

0

Success

-1

Fail

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=closeInfraLed&usr=admin&pwd=

getInfraLedConfig
Function

Get infra led config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getInfraLedConfig

Param

None

Return

mode

0

Auto mode

1

Manual mode

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getInfraLedConfig&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

57

Foscam IPCamera CGI User Guide

setInfraLedConfig
Function

Set infra led config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setInfraLedConfig&mode=0

Param

mode

Auto mode

1

Return

0

Manual mode

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setInfraLedConfig&mode=&usr=admin&pwd=

getScheduleInfraLedConfig
Function

Get config for infra led switch schedule

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleInfraLedConfig

Param

None

Return

startHourN

Start hour

startMinN

Start Minitue

endHourN

End hour

endMinN

End minitue

Note

N:[0-2],the number of infra led switch schedule

Example

/cgi-bin/CGIProxy.fcgi?cmd=getScheduleInfraLedConfig&usr=admin&pwd=

setScheduleInfraLedConfig
Function

Set config for infra led switch schedule

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setScheduleInfraLedConfig&mode=0

Param

startHourN

Start hour

startMinN

Start Minitue

endHourN

End hour

endMinN

End minitue

Return

None

Note

N:[0-2],the number of infra led switch schedule

Example

/cgi-bin/CGIProxy.fcgi?cmd=setInfraLedConfig&mode=&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

58

Foscam IPCamera CGI User Guide

getDevState
Function

Get all device state

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getDevState

Param

None

Return

IOAlarm

0

Disabled

1

No alaram

2

Detect alarm

motionDetectAlar

0

Disabled

am

1

No alarm

2

Detect alarm

0

Disabled

1

No alarm

2

Detect alarm

0

Not in recording

1

Recording

0

No sd card

1

Sd card ok

2

Sd card read only

soundAlarm

record

sdState

sdFreeSpace

Free space of sd card by unit of k

sdTotalSpace

Total space of sd card by unit of k

ntpState

0

Disabled

1

Update success

2

Update fail

0

Disabled

1

Update success

2

Update fail

ddnspState

url

DDNS url

upnpState

0

Disabled

1

Update success

2

Update fail

0

No wifi connected

1

Connected

isWifiConnected

wifiConnectedAP

The ssid of the ap which has been connected

infraLedState

0

OFF

1

ON

Copyright@ Shenzhen Foscam Intelligent Technology Limited

59

Foscam IPCamera CGI User Guide

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getDevState&usr=admin&pwd=

getDevName
Function

Get camera name

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getDevName

Param

None

Return

devName

Camera name

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getDevName&usr=admin&pwd=

setDevName
Function

Set camera name

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setDevName

Param

devName

Return

None

Camera name

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setDevName&devName=test&usr=admin&pwd=

getDevInfo
Function

Get camera information

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getDevInfo

Param

None

Return

productNam
e

Camera model

serialNo

Serial no

devName

Camera name

mac

Mac address

year
mon

Copyright@ Shenzhen Foscam Intelligent Technology Limited

60

Foscam IPCamera CGI User Guide

day
hour
min
sec
timeZone

Time zone

firmwareVer

Firmware version

hardwareVer

Hardware version

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getDevInfo&usr=admin&pwd=

getProductModel
Function

Get camera model number

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductModel

Param

None

Return

model

Camera model number

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductModel&usr=admin&pwd=

getProductModelName
Function

Get camera model name

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductModelName

Param

None

Return

modelName

Camera model name

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductModelName&usr=admin&pwd=

getProductLanguage
Function

Get camera main language

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductLanguage

Param

None

Copyright@ Shenzhen Foscam Intelligent Technology Limited

61

Foscam IPCamera CGI User Guide

Return

language

Camera main language

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductLanguage&usr=admin&pwd=

getProductSensorType
Function

Get camera sensor type number

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductSensorType

Param

None

Return

sensorType

Camera sensor type number

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductSensorType&usr=admin&pwd=

getProductWifiType
Function

Get camera wifi type number

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductWifiType

Param

None

Return

wifiType

Camera wifi type number

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductWifiType&usr=admin&pwd=

getProductSdFlag
Function

Whether camera support sd card

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductSdFlag

Param

None

Return

sdFlag

Camera flag to support sd card-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductSdFlag&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

62

Foscam IPCamera CGI User Guide

getProductOutdoorFlag
Function

Whether camera is outdoor machine

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductOutdoorFlag

Param

None

Return

OutdoorFlag

Whether camera is outdoor machine-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductOutdoorFlag&usr=admin&pwd=

getProductPtFlag
Function

Whether camera is pt machine

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductPtFlag

Param

None

Return

ptFlag

Whether camera is pt machine-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductPtFlag&usr=admin&pwd=

getProductZoomFlag
Function

Whether camera is zoom machine

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductZoomFlag

Param

None

Return

zoomFlag

Whether camera is zoom machine-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductZoomFlag&usr=admin&pwd=

getProductRs485Flag
Function

Whether camera support rs485

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductRs485Flag

Param

None

Copyright@ Shenzhen Foscam Intelligent Technology Limited

63

Foscam IPCamera CGI User Guide

Return

rs485Flag

Whether camera support rs485-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductRs485Flag&usr=admin&pwd=

getProductIoAlarmFlag
Function

Whether camera support IO alarm

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductIoAlarmFlag

Param

None

Return

ioAlarmFlag

Whether camera support IO alarm-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductIoAlarmFlag&usr=admin&pwd=

getProductOnvifFlag
Function

Whether camera support Onvif

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductOnvifFlag

Param

None

Return

onvifFlag

Whether camera support onvif-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductOnvifFlag&usr=admin&pwd=

getProductP2pFlag
Function

Whether camera support P2p

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductP2pFlag

Param

None

Return

p2pFlag

Whether camera support p2p-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductP2pFlag&usr=admin&pwd=

Copyright@ Shenzhen Foscam Intelligent Technology Limited

64

Foscam IPCamera CGI User Guide

getProductWpsFlag
Function

Whether camera support Wps

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductWpsFlag

Param

None

Return

wpsFlag

Whether camera support wps-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductWpsFlag&usr=admin&pwd=

getProductAudioFlag
Function

Whether camera support audio-speak

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductAudioFlag

Param

None

Return

audioFlag

Whether camera support audio for speak-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductAudioFlag&usr=admin&pwd=

getProductTalkFlag
Function

Whether camera support audio-talk

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductTalkFlag

Param

None

Return

talkFlag

Whether camera support audio for talk-0:no,1:yes

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductTalkFlag&usr=admin&pwd=

getProductAppVer
Function

Get camera application version

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductAppVer

Param

None

Copyright@ Shenzhen Foscam Intelligent Technology Limited

65

Foscam IPCamera CGI User Guide

Return

appVer

camera application version

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductAppVer&usr=admin&pwd=

getProductAllInfo
Function

Get camera Information

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getProductAllInfo

Param

None

Return

model

Model number

modelName

Model Name

language

Main language

sensorType

Sensor type number

wifiType

Wifi Type Number

reserve1

Reserve

reserve2

Reserve

reserve3

Reserve

reserve4

Reserve

sdFlag

Whether machine support sd card

outdoorFlag

Whether machine is outdoor

ptFlag

Whether machine support pt

zoomFlag

Whether machine support zoom

Rs485Flag

Whether machine support rs485

ioAlarmFlag

Whether machine support io alarm

onvifFlag

Whether machine support onvif

p2pFlag

Whether machine support p2p

wpsFlag

Whether machine support wps

audioFlag

Whether machine support audio-speak

talkFlag

Whether machine support audio-talk

reserveFlag1

reserve

reserveFlag2

reserve

reserveFlag3

reserve

reserveFlag4

reserve

Copyright@ Shenzhen Foscam Intelligent Technology Limited

66

Foscam IPCamera CGI User Guide

appVer

Camera application version

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getProductAllInfo&usr=admin&pwd=

getGeneratePubKey
Function

Get public key generated by camera for software reset

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getGeneratePubKey

Param

None

Return

genResult

The result that camera generate public key for software reset

genPubLen

The length of public key

pubKey

Public key

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getGeneratePubKey&usr=admin&pwd=

toolResetToFactory
Function

Set camera reset to factory by software

privilege

visitor

Usage

/cgi-bin/CGIProxy.fcgi?cmd=toolResetToFactory

Param

codeLen

Code length for camera reset

code

Code for camera reset

restoreResult

The result that camera reset

Return
Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=toolResetToFactory&codeLen=10&code=xxxxxxx
xxx&&usr=admin&pwd=

System
rebootSystem
Function

Reboot camera

privilege

admin

Copyright@ Shenzhen Foscam Intelligent Technology Limited

67

Foscam IPCamera CGI User Guide

Usage

/cgi-bin/CGIProxy.fcgi?cmd=rebootSystem

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=rebootSystem&usr=admin&pwd=

restoreToFactorySetting
Function

Restore to factory setting

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=restoreToFactorySetting

Param

None

Return

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd= restoreToFactorySetting&usr=admin&pwd=

exportConfig
Function

Export config file

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=exportConfig

Param

None

Return

fileName

Note

After call this command, you can get the config file by visit the following addr:

The config name

/configs/export/configs.bin

Example

/cgi-bin/CGIProxy.fcgi?cmd=exportConfig&usr=admin&pwd=

ImportConfig
Function

Import config file

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=importConfig&usr=admin&pwd=

Param

None

Return

None

Note

System will reboot automatically after this operation

Copyright@ Shenzhen Foscam Intelligent Technology Limited

68

Foscam IPCamera CGI User Guide

Example

<form name="form5" method="post" target="retframe"

enctype="multipart/form-data"

action="cgi-bin/ CGIProxy.fcgi?cmd=importConfig&usr=admin&pwd=" >
<input type="file" name="setting_file" >
<input type="submit" value="import" >
</form>

FwUpgrade
Function

Upgrade firmware

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=fwUpgrade&usr=admin&pwd=

Param

None

Return

upgradeResu

0

Upgrade success

lt

-1

Upgrade fail

Note

System will reboot automatically after this operation.
This action may takes about 120s when upgrade app firmware, takes about
60s when upgrade system firmware

Example

<form name="form5" method="post" target="retframe" enctype="multipart/form-data"
action="cgi-bin/ CGIProxy.fcgi?cmd=fwUpgrade&usr=admin&pwd=" >
<input type="file" name="fw_file" >
<input type="submit" value="upgrade" >
</form>

MISC
getFirewallConfig
Function

Get firewall config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getFirewallConfig

Param

None

Return

isEnable

Use firewall or not

rule

0

The ip list can’t access

1

Only allow the ip list to access

ipListN

The ip address(Network address) of list N

Copyright@ Shenzhen Foscam Intelligent Technology Limited

69

Foscam IPCamera CGI User Guide

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=getFirewallConfig&usr=admin&pwd=

setFirewallConfig
Function

Set firewall config

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=setFirewallConfig

Param

isEnable

Use firewall or not

rule

0

The ip list can’t access

1

Only allow the ip list to access

ipListN

Return

The ip address(Network address) of list N

None

Note
Example

/cgi-bin/CGIProxy.fcgi?cmd=setFirewallConfig&isEnable=1&rule=0&ipList0=0
&ipList1=0&ipList2=0&ipList3=0&ipList4=0&ipList5=0&ipList6=0&ipList7=0&us
r=admin&pwd=

getLog
Function

Get system log

privilege

admin

Usage

/cgi-bin/CGIProxy.fcgi?cmd=getLog

Param

offset

Where you want to start get log

count

How many logs you want to get, must less then 20

totalCnt

Total log count

curCnt

current log count

logN

log information, consist by

Return

time+user+ip+logID

Note

We can have 1000 record of log at most.
We can get 10 log at most one time

Example
/cgi-bin/CGIProxy.fcgi?cmd=getLog&offset=0&count=20&usr=admin&pwd=
*logID:
0:System power on
1:Detect motion alarm
2:user login
3:user logout
Copyright@ Shenzhen Foscam Intelligent Technology Limited

70

Foscam IPCamera CGI User Guide
4:user off line

Copyright@ Shenzhen Foscam Intelligent Technology Limited

71

